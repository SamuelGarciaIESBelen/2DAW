<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM</title>
</head>

<body>
    <p>
        Este es un texto de ejemplo, con un
        <a href="https://batman.fandom.com/es/wiki/Bruce_Wayne_(Nueva_Tierra)" target="_blank">enlace</a>
    </p>
    <p>
        Este es otro texto de ejemplo, el enlace va a la web de
        <a href="https://iesbelen.org/" target="_blank">IES Belén</a>
    </p>
    <p>
        Este es el tercer texto de ejemplo, con tres enlaces:
        <br>
        <a href="https://github.com/SamuelGarciaIESBelen/2DAW/tree/main/DIWEB" target="_blank">Interfaces</a>
        <br>
        <a href="https://github.com/SamuelGarciaIESBelen/2DAW/tree/main/DWESE" target="_blank">Servidor</a>
        <br>
        <a href="https://github.com/SamuelGarciaIESBelen/2DAW/tree/main/DWECL" target="_blank">Cliente</a>
    </p>
    <p>
        Este es el último texto de ejemplo, con un enlace a
        <a href="https://www.w3schools.com/" target="_blank">W3Schools</a>
        <br>
        <a href="https://iesbelen.org/" target="_blank">IES Belén</a>
    </p>

    <script>
        const elem = document.body;

        // 1. Number of links on the page
        const links = elem.getElementsByTagName("a");
        console.log("Number of links: " + links.length);

        // 2. Address to which the penultimate link links to
        let penultimate = links[links.length - 2];
        console.log("The penultimate link goes to: " + penultimate.href);

        // 3. Number of links linking to the institute's website
        // let iesbelen = Array.from(links).filter(l => l.href.includes("https://iesbelen.org/")).length;

        let iesbelen = elem.querySelectorAll("a[href='https://iesbelen.org/']").length;

        /* let iesbelen = (links) => {
            let cont = 0;
            let nlinks = Array.from(links);
            nlinks.forEach(e => {
                if (e.href === "https://iesbelen.org/") {
                    cont++;
                }
            })
            return cont;
        } */

        console.log("Links to the institute's website: " + iesbelen);
        // console.log("Links to the institute's website: " + iesbelen(links));
        // console.log(typeof iesbelen);

        // 4. Number of links in the third paragraph
        const links3P = elem.getElementsByTagName("p")[2].getElementsByTagName("a").length;
        console.log("There are " + links3P + " links in the third paragraph");
    </script>
</body>

</html>